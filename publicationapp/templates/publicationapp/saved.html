{% extends 'mainapp/base.html' %}

{% block title %}
  –ò–∑–±—Ä–∞–Ω–Ω–æ–µ ‚ù§ | –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ user.username }}
{% endblock %}

{% block css %}
  <link rel="stylesheet" href="/static/lib\css\style_hello_user.css">
  <link rel="stylesheet" href="/static/lib\css\style_header.css">
  <link rel="stylesheet" href="/static/lib\css\style_footer.css">
  <link rel="stylesheet" href="/static/lib\css\style_watch_designs.css">
  <link rel="stylesheet" href="/static/lib\css\style_watch_repairs.css">
  <link rel="stylesheet" href="/static/lib\css\style_watch_lifehacks.css">
  <link rel="stylesheet" href="/static/lib\css\style_watch_saved.css">
  <link rel="stylesheet" href="/static/lib\css\style_filter.css">
{% endblock %}

{% block content %}
  <!-- –≤ header –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ö–æ–≤–µ—Ä, –∏ –±–µ–∑ —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞ –≤–µ—Å—å js –ª–æ–º–∞–µ—Ç—Å—è -->
  <!-- <div class="ne_nuzhno_no_starum_skriptam_nuzhno" style="display:none;">  -->
    <!-- <div id="tags_count"></div>
    <div id="fltr_cost_min"></div>
    <div id="fltr_cost_max"></div>
    <div id="fltr_cost_p"></div>
    <div id="fltr_style_p"></div>
    <div id="fltr_room_p"></div>
    <div id="checked_styles_count"></div>
    <div id="checked_rooms_count"></div>
    <div class="opened_filter"></div> -->
  <!-- </div> -->

  <div class="page_title">
    <p class="title_p">–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</p>
    <p class="count_pubs">{{ pubs.count }} –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</p>
  </div>

    {% if not pubs %}
      <div class="pubs_container" style="min-height: 750px;">
      <p style="width: 50%; padding: 10px; border-radius: 10px; border: 2px #e5e5e5 solid; background: #f2f2f2; box-shadow: #e3e3e3 0px 0px 5px;">
        –ü–æ–∫–∞ —á—Ç–æ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –≤–∞–º —á—Ç–æ-–Ω–∏–±—É–¥—å –¥–∞ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è!</p>
    {% else %}
      <div class="pubs_container">
      {% for p in pubs %}
        {% if p.pub_id.role.id == 11 %}
          <div class="pub_one repair" id="{{ p.pub_id.id }}">
            <div class="img_from_pub">
              <img src="{{ p.pub_id.preview.url }}" alt="">
              <div class="img_black_gradient"> </div>
            </div>
            <div class="pub_info">
              <p class="pub_title before_slides_ten">{{ p.pub_id.title }}</p>
              <p class="pub_stats">üëÄ {{ p.pub_id.seen_count }}<br>
                                   ‚ù§  {{ p.pub_id.saved_count }} </p>
            </div>
            <div class="additional_functions">
              <p class="p_for_removed_pubs">–ü—É–±–ª–∏–∫–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ. –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –µ—ë –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.</p>
              <div class="remove_pub_from_saved" onclick="toggleRemovePubFromSaved_R({{ p.pub_id.id }})">
                <img src="/static/sources/SVG/remove_from_saved.svg" title="–£–¥–∞–ª–∏—Ç—å –∏–∑ ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ¬ª">
              </div>
              <a href="{% url 'pub:pub_one' pk=p.pub_id.id %}" class="read_more" id="read_more">–ß–∏—Ç–∞—Ç—å ‚Ä∫</a>
            </div>
          </div>
        {% endif %}
        {% if p.pub_id.role.id == 21 %}
          <div class="pub_one design" id="{{ p.pub_id.id }}">
            <div class="img_from_pub">
              <img src="{{ p.pub_id.preview.url }}" alt="">
              <div class="img_black_gradient"> </div>
            </div>
            <div class="pub_info">
              <p class="pub_title">{{ p.pub_id.title }}</p>
              <div class="div_pub_text">
                <p class="pub_text">{{ p.pub_id.content_first_desc }}</p>
              </div>
              <div class="pub_to_do">
                <div class="remove_pub_from_saved" onclick="toggleRemovePubFromSaved_D({{ p.pub_id.id }})">
                  <img src="/static/sources/SVG/remove_from_saved.svg" title="–£–¥–∞–ª–∏—Ç—å –∏–∑ ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ¬ª">
                </div>
                <a class="pub_show_full" href="{% url 'pub:pub_one' pk=p.pub_id.id %}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Ä¢‚Ä¢‚Ä¢</a>
              </div>
              <p class="p_for_removed_pubs">–ü—É–±–ª–∏–∫–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ. –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –µ—ë –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.</p>
              <div class="pub_tags"></div>
            </div>
          </div>
        {% endif %}
        {% if p.pub_id.role.id == 31 %}
          <div class="pub_one lifehack" id="{{ p.pub_id.id }}">
            <div class="media">
              {% if '.mp4' in p.pub_id.preview.url or '.mov' in p.pub_id.preview.url %}
              <video class="paused" muted="muted" controls="controls" loop>
                <source src="{{ p.pub_id.preview.url }}" type='video/mp4;'>
                –¢–µ–≥ video –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º. –£–≤—ã.
              </video>
              {% else %}
                <img src="{{ p.pub_id.preview.url }}" alt="">
              {% endif %}
              <div class="img_black_gradient"> </div>
            </div>

            <div class="pub_info">
              <div class="pub_to_do">
                <a onclick="toggleRemovePubFromSaved_LH({{ p.pub_id.id }})" title="–£–¥–∞–ª–∏—Ç—å –∏–∑ ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ¬ª">
                  <div class="remove_pub_from_saved">
                    <img src="/static/sources/SVG/remove_from_saved.svg" alt="">
                  </div>
                </a>
                <div class="pub_author_cntnr">
                  <div class="pub_author">
                    <a href="{% url 'auth:account_one' pk=p.pub_id.author.id %}"><img src="{{ p.pub_id.author.photo.url }}" alt=""></a>
                    <div class="nickname_and_role">
                      <div class="nickname">
                        <a href="{% url 'auth:account_one' pk=p.pub_id.author.id %}" class="nickname_link">{{ p.pub_id.author.username }}</a>
                        <a onclick="toggleGetNotiFromAuthor( {{ p.pub_id.author.id }} )" class="nickname_noti" id="{{ p.pub_id.author.id }}"> <div class="get_noti" title="–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ p.pub_id.author.username }}"></div></a>
                          <!-- <div class="get_noti_label">–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö –ê–ª–µ–∫—Å–µ—è</div> -->
                      </div>
                      <p class="role">–ê–≤—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</p>
                    </div>
                  </div>
                </div>
                  <a onclick="togglePubAdditionalFunctions({{ p.pub_id.id }})"><div class="pub_show_full">‚Ä¢‚Ä¢‚Ä¢</div></a>
              </div>
              <div class="div_pub_text">
                <p class="pub_text">{{ p.pub_id.title }}</p>
              </div>
                <div class="pub_tags_container">
                  {% for t in pub_has_tags %}
                    {% if t.pub_id == p.pub_id %}
                      <form class="opened_filter_form" action="{% url 'pub:filter_lifehacks' %}" method="post">{% csrf_token %}
                        <label style='display:none;'> <span> <input type="checkbox" name="style_design" value="{{ t.tag_id.id }}" > </span><span>{{ t.tag_id.tag_name }}</span> </label>
                        <div class="pub_tag">
                          <input style="cursor: pointer; margin: 0; background: none; border: none; font-size: 14px; color: #686868; font-family: 'Open Sans'; padding-right: 10px;"
                            type="submit" name="to_filter" value="{{ t.tag_id.tag_name }}">
                          <img src="/static/sources/SVG/search.svg" alt="">
                        </div>
                      </form>
                    {% endif %}
                  {% endfor%}
                  <p class="p_for_removed_pubs">–ü—É–±–ª–∏–∫–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ. –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –µ—ë –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.</p>
                </div>
              </div>
            </div>
        {% endif %}
      {% endfor %}
    </div>

      <div class="opened_filter_big_bg">
        <div class="pre_pre_opened_filter">
          <div class="pre__opened_filter">
            <div class="opened_filter">
              <form class="opened_filter_form" action="to_filter_pubs" method="post">
                <p class="opened_filter_title">–§–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π</p>
                <div class="opened_filter_under_title">
                  <p class="opened_filter_second_title">14 –ø–æ–¥–æ–±—Ä–∞–Ω–æ</p>
                </div>
                <div class="filter_mini_div bringed_pubs"> <!-- –≤–∫–ª—é—á—ë–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
                  <div class="filters_on"> <!-- –µ—Å–ª–∏ –µ—Å—Ç—å 1+ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
                    <div class="filter_one" id="fltr_cost">
                       <p id="fltr_cost_p">–§–∏–ª—å—Ç–µ—Ä –ø–µ—Ä–∏–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</p>
                       <div class="to_close_filter fltr_cost"></div>
                    </div>
                    <div class="filter_one" id="fltr_style">
                       <p id="fltr_style_p">–§–∏–ª—å—Ç–µ—Ä –≤–∏–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</p>
                       <div class="to_close_filter fltr_style"></div>
                    </div>
                    <input class="clear_filter" type="button" name="clear_filter" value="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã">
                  </div>
                  <div class="filters_off"> <!-- –µ—Å–ª–∏ –Ω–∏ –æ–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–µ –≤–∫–ª—é—á–µ–Ω–æ -->
                    <p>0 —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤—ã–±—Ä–∞–Ω–æ. <br> <span style="color: gray; font-size: 13px; font-family: 'Open Sans';">–ü–æ–∫–∞–∑–∞–Ω—ã –≤—Å–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</span></p>
                  </div>
                </div>
                <div class="filter_mini_div checked_styles">
                  <p class="opened_filter_text full_width big_p">
                    <span class="big_p_parth">
                      –í–∏–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
                      <span id="checked_styles_count" class="checked_styles_count">–õ—é–±–æ–π</span>
                    </span>
                    <span> <button type="button" name="button" class="triangle_to_open_and_hide open_hide_design_styles button_and_submit__without__bgn_and_border">
                      <img src="/static/sources/SVG/to_close_open_triangle.svg" alt="">
                    </button> </span>
                  </p>
                  <div class="styles_labels_open">
                    <div class="styles_any_one_label">
                      <label> <span> <input type="checkbox" name="style_design" value="–†–µ–º–æ–Ω—Ç" > </span><span>–†–µ–º–æ–Ω—Ç</span> </label>
                      <label class="any_one" style="max-width: 99px;"> <span> <input type="checkbox" name="style_design" value="any_one"> </span><span class="any_one__span">–õ—é–±–æ–π –≤–∏–¥</span> </label>
                    </div>
                    <label> <span> <input type="checkbox" name="style_design" value="–î–∏–∑–∞–π–Ω" > </span><span>–î–∏–∑–∞–π–Ω</span> </label>
                    <label> <span> <input type="checkbox" name="style_design" value="–õ–∞–π—Ñ—Ö–∞–∫–∏" > </span><span>–õ–∞–π—Ñ—Ö–∞–∫–∏</span> </label>
                  </div>
                </div>
                <div class="filter_mini_div cost">
                  <p class="opened_filter_text full_width">–ü–µ—Ä–∏–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:</p>
                  <input id="fltr_cost_min" type="date" name="cost_mini" placeholder="1999-09-19">
                  <p style="font-size: 15px; font-weight: 900;">-</p>
                  <input id="fltr_cost_max" type="date" name="cost_max" placeholder="2111-11-12">
                  <!-- <input type="range" min="0" max="100" step="1" value="50"> -->
                </div>

                <!-- <div class="filter_mini_div user_feedbacks"> <p class="opened_filter_text">–°–û–†–¢–ò–†–û–í–ê–¢–¨, –ù–ê–ü–†–ò–ú–ï–† –ü–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</p> </div> -->
                <!-- <div class="filter_mini_div filter_other"> <p class="opened_filter_text">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:</p> </div> -->
                <div class="show_pubs">
                  <div class="show_pubs_container">
                    <input class="filter_mini_div filter_to_filter" style="margin: 0;" type="submit" name="to_filter" value="–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã–µ">
                    <!-- <input class="filter_mini_div filter_to_filter" type="button" name="to_filter" value="–ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤"> -->
                  </div>
                </div>
              <!-- <div class="clear_hix_show_pubs"></div> -->
              </form>
            </div>
          </div>

          <!-- <div class="close_btn"></div> -->
        </div>
      </div>

    	<div class="filter_and_gradient">
    		<div class="filter_and_gradient_container">
    		  <button class="filter_button button_and_submit__without__bgn_and_border">
    			<div class="filter">
    			  <div class="filter_btn">
    				<img class="filter_logo dont_close_on_click" src="/static/sources/SVG/filter_logo.svg" alt="">
    				<p class="filter_p dont_close_on_click">–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å</p>
    			  </div>
    			  <div class="filter_tags_count dont_close_on_click">
    				<p id="tags_count" class="dont_close_on_click">6</p>
    			  </div>
    			</div>
    		  </button>
    		</div>
      </div>

      <div class="pub_additional_functions_bg"> <!-- –¥–æ–ø —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π -->
        <div class="pub_additional_functions dont_close_on_click">
          <p class="dont_close_on_click" onclick="openNewComplaintForm()">–ü–æ–¥–∞—Ç—å –∂–∞–ª–æ–±—É</p>
          <p class="dont_close_on_click" onclick="searchPubsLikeThis()" title="–Ω–∞–π—Ç–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏-–ª–∞–π—Ñ—Ö–∞–∫–∏ —Å —Ç–∞–∫–∏–º–∏ –∂–µ —Ç—ç–≥–∞–º–∏, –∫–∞–∫ –∏ —ç—Ç–∞ –ø—É–±–ª–∏–∫—Ü–∏—è">–ò—Å–∫–∞—Ç—å –ø–æ—Ö–æ–∂–µ–µ</p>
          <p class="dont_close_on_click" onclick="shareThePub()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</p>
        </div>
      </div>
      <div class="new_complaint"> <!-- –Ω–∞–ø–∏—Å–∞—Ç—å –∂–∞–ª–æ–±—É -->
        <h1>–ñ–∞–ª–æ–±–∞ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é</h1>
        <form>
          <textarea name="" id="" cols="30" rows="10" title="–ù–∞–ø–∏—à–∏—Ç–µ, –≤ —á—ë–º —Å—É—Ç—å –∂–∞–ª–æ–±—ã" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ, –≤ —á—ë–º —Å—É—Ç—å –∂–∞–ª–æ–±—ã. –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –í–∞—à—É –∂–∞–ª–æ–±—É –∏ —á—Ç–æ-–Ω–∏–±—É–¥—å —Ä–µ—à–∏–º, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–≤–µ–¥–æ–º–∏–≤ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤–∞—Å."></textarea>
          <input type="submit" value="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É" onclick="new_complaint_was_sent">
        </form>
      </div>
      <div class="share_the_pub"> <!-- —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é -->
        <h1>–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é: </h1>
        <a href="http://127.0.0.1:8000/pub/Z" style="text-decoration: underline; margin: 30px 0 10px; display: block;">http://127.0.0.1:8000/pub/one/?</a>
      </div>

    {% endif %}
  </div>

{% endblock %}

{% block scripts_individual %}
  <script src="/static/lib/js/animation-saved.js"></script>
{% endblock %}
