{% extends 'mainapp/base.html' %}

{% block title %}
  {{ title }}
{% endblock %}

{% block css %}
  <link rel="stylesheet" href="/static/lib\css\style_header.css">
  <link rel="stylesheet" href="/static/lib\css\style_footer.css">
  <link rel="stylesheet" href="/static/lib\css\style_watch_designs.css">
  <link rel="stylesheet" href="/static/lib\css\style_pub_create_new.css">
  <link rel="stylesheet" href="/static/lib\css\style_filter.css">
{% endblock %}

{% block content %}
  <div class="ne_nuzhno_no_starum_skriptam_nuzhno" style="display:none;"> <!-- в header присутствует проверка на ховер, и без этого блока весь js ломается -->
    <div id="tags_count"></div>
    <div id="fltr_cost_min"></div>
    <div id="fltr_cost_max"></div>
    <div id="fltr_cost_p"></div>
    <div id="fltr_style_p"></div>
    <div id="fltr_room_p"></div>
    <div id="checked_styles_count"></div>
    <div id="checked_rooms_count"></div>
    <div class="opened_filter"></div>
  </div>

  {% if user.role.id != 2 and user.role.id != 4 %}
    <div class="page_title" style="min-height: 600px;">
        <p class="title_p">Вам сюда нельзя.</p>
        <p>Но вы можете подать заявку на получение роли <a href="">автора</a> или <a href="">сотрудника</a>.</p>
    </div>
  {% else %}
    <div class="page_title">
        <p class="title_p">{{ title }}</p>
    </div>

    <div class="pubs_container">
      <form class="" action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div class="pub_types">
          <h4>Вид публикации:</h4>
          {{ form.type }}
          {{ form.type.errors }}
        </div>
        <div class="pub_title pub_inp_one">
          <h4>Заголовок:</h4>
          {{ form.title }}
          {{ form.title.errors }}
          <p>Максимальная длина текста — 135 символов.</p>
        </div>
        <div class="pub_preview pub_inp_one">
          <h4>Превью:</h4>
          {{ form.preview }}
          {{ form.preview.errors }}
          <p>Идеальный размер изображения — 1350×405 пикселей.<br>С другими размерами фото может некорректно отображаться.</p>
        </div>
        <div class="pub_description pub_inp_one">
          <h4>Описание перед фотографиями:</h4>
          {{ form.content_first_desc }}
          {{ form.content_first_desc.errors }}
          <p>Сдеайте текстовое описание Вашей публикации. Расскажите о важном в выбранной теме, упомяните используемые фото.</p>
        </div>
        <div class="pub_photos pub_inp_one">
          <h4>Фотографии публикации:</h4>
          {{ form.photo }}
          {{ form.photo.errors }}
          <p>Идеальный размер изображения — 1100×580 пикселей. С другими размерами фото могут некорректно отображаться.</p>
        </div>
        <div class="pub_description pub_inp_one">
          <h4>Описание после фотографий:</h4>
          {{ form.content_last_desc }}
          {{ form.content_last_desc.errors }}<p>Сдеайте вывод по теме Вашей публикации. Можно пожелать хорошего настроения :3</p>
        </div>
        <div class="pub_tags">
          <h4>Тэги:</h4>
          <div id="budget" class="filter_mini_div show cost">
            <p class="opened_filter_text full_width">Бюджет на ремонт, ₽</p>
            {{ form.cost_min }}
            <p style="font-size: 15px; font-weight: 900;">-</p>
            {{ form.cost_max }}
            {{ form.cost_min.errors }}
            {{ form.cost_max.errors }}
          </div>

          <div id="repair" class="filter_mini_div show checked_spheres">
            <p class="opened_filter_text full_width big_p">
              <span class="big_p_parth">
                Ремонт чего:
              </span>
            </p>
            {{ form.tag_repair_what_to }}
            {{ form.tag_repair_what_to.errors }}
          </div>

          <div id="repair" class="filter_mini_div show checked_styles">
            <p class="opened_filter_text full_width big_p">
              <span class="big_p_parth">
                Инструмент:
              </span>
            </p>
            {{ form.tag_repair_by_what }}
            {{ form.tag_repair_by_what.errors }}
          </div>

          <div id="repair" class="filter_mini_div show checked_rooms">
            <p class="opened_filter_text full_width big_p">
              <span class="big_p_parth">
                В помещении:
              </span>
            </p>
            {{ form.tag_repair_where }}
            {{ form.tag_repair_where.errors }}
          </div>

          <div id="design" class="filter_mini_div checked_rooms">
            <p class="opened_filter_text full_width big_p">
              <span class="big_p_parth">
                Комната:
              </span>
            </p>
            {{ form.tag_design_room }}
            {{ form.tag_design_room.errors }}
          </div>

          <div id="design" class="filter_mini_div checked_styles">
            <p class="opened_filter_text full_width big_p">
              <span class="big_p_parth">
                Основной стиль:
              </span>
            </p>
            {{ form.tag_design_style }}
            {{ form.tag_design_style.errors }}
          </div>

          <div id="lifehack" class="filter_mini_div checked_spheres">
            <p class="opened_filter_text full_width big_p">
              <span class="big_p_parth">
                В сфере жизни:
              </span>
            </p>
            {{ form.tag_lifehack_lifesphere }}
            {{ form.tag_lifehack_lifesphere.errors }}
          </div>

        </div>

        <input type="submit" name="create!" value="{{ title }}!">
      </form>
    </div>
  {% endif %}


{% endblock %}

{% block scripts_individual %}
  <script src="/static/lib/js/animation-pub-create-new.js"></script>
{% endblock %}
